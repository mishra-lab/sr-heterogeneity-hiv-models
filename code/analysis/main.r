suppressPackageStartupMessages({
  library('tidyverse')
  library('ggforce')
  library('sf')
  library('rnaturalearth')
  library('rnaturalearthdata')
  library('viridis')
  library('geepack')
  # library('coefplot')
})
source('analysis/meta.r')
source('analysis/utils.r')
source('analysis/data.r')
source('analysis/numeric.r')
source('analysis/plot.r')

X = load.main.data(api.include=c('Y','x'))
numeric.main(X)

g = plot.map.co(X,size='Studies',fill='Prev') + labs(fill='% HIV\nPrevalence')
save.plot(g,'map-n-vs-prev',width=7,height=6)

XA = load.api.data(X)
numeric.api(XA)
plot.api.list(XA)
plot.api.list(XA,drop=TRUE,'Risk')
plot.distr.list(X)
save.plot.lists()
